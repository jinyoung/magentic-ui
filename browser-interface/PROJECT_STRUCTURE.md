# Magentic UI Browser Interface - ν”„λ΅μ νΈ κµ¬μ΅°

## π“ λ””λ ‰ν† λ¦¬ κµ¬μ΅°

```
magentic-ui/
β”β”€β”€ docker/magentic-ui-browser-docker/     # Docker μ»¨ν…μ΄λ„ μ„¤μ •
β”‚   β”β”€β”€ Dockerfile                         # Docker μ΄λ―Έμ§€ μ •μ
β”‚   β”β”€β”€ supervisord.conf                   # μ„λΉ„μ¤ κ΄€λ¦¬ μ„¤μ •
β”‚   β”β”€β”€ playwright-server.js               # Playwright μ„λ²„
β”‚   β”β”€β”€ package.json                       # Node.js μμ΅΄μ„±
β”‚   β”β”€β”€ start.sh                          # μ»¨ν…μ΄λ„ μ‹μ‘ μ¤ν¬λ¦½νΈ
β”‚   β”β”€β”€ entrypoint.sh                     # μ»¨ν…μ΄λ„ μ§„μ…μ 
β”‚   β”β”€β”€ x11-setup.sh                      # X11 μ„¤μ • μ¤ν¬λ¦½νΈ
β”‚   β”β”€β”€ openbox-rc.xml                    # OpenBox μλ„μ° λ§¤λ‹μ € μ„¤μ •
β”‚   β””β”€β”€ build.sh                          # μ΄λ―Έμ§€ λΉλ“ μ¤ν¬λ¦½νΈ
β”‚
β””β”€β”€ browser-interface/                     # μ›Ή μΈν„°νμ΄μ¤
    β”β”€β”€ index.html                        # κΈ°λ³Έ μ›Ή μΈν„°νμ΄μ¤
    β”β”€β”€ enhanced-index.html               # API μ—°λ™ μ›Ή μΈν„°νμ΄μ¤
    β”β”€β”€ docker-manager.js                # Docker κ΄€λ¦¬ μ„λ²„
    β”β”€β”€ package.json                     # Node.js ν”„λ΅μ νΈ μ„¤μ •
    β”β”€β”€ start.sh                         # μΈν„°νμ΄μ¤ μ‹μ‘ μ¤ν¬λ¦½νΈ
    β”β”€β”€ quick-start.sh                   # λΉ λ¥Έ μ‹μ‘ μ¤ν¬λ¦½νΈ
    β”β”€β”€ README.md                        # μ‚¬μ© κ°€μ΄λ“
    β””β”€β”€ PROJECT_STRUCTURE.md             # μ΄ νμΌ
```

## π€ μ‹μ‘ν•κΈ°

### λΉ λ¥Έ μ‹μ‘

```bash
cd browser-interface
./quick-start.sh
```

### λ‹¨κ³„λ³„ μ‹μ‘

1. **μμ΅΄μ„± μ„¤μΉ**
   ```bash
   cd browser-interface
   npm install
   ```

2. **Docker μ΄λ―Έμ§€ λΉλ“**
   ```bash
   npm run build-image
   ```

3. **μ›Ή μ„λ²„ μ‹μ‘**
   ```bash
   npm start
   ```

4. **λΈλΌμ°μ €μ—μ„ μ ‘μ†**
   - http://localhost:3000

## π—οΈ μ•„ν‚¤ν…μ²

### Docker μ»¨ν…μ΄λ„ κµ¬μ„±

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚         Docker Container            β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚  Xvfb (κ°€μƒ λ””μ¤ν”λ μ΄)              β”‚
β”‚  OpenBox (μλ„μ° λ§¤λ‹μ €)             β”‚
β”‚  Chromium (μ›Ή λΈλΌμ°μ €)              β”‚
β”‚  x11vnc (VNC μ„λ²„)                  β”‚
β”‚  noVNC (μ›Ή VNC ν΄λΌμ΄μ–ΈνΈ)           β”‚
β”‚  Playwright Server (μλ™ν™”)         β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
           β†• ν¬νΈ 6080, 37367
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚      νΈμ¤νΈ μ‹μ¤ν…                   β”‚
β”‚                                     β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”    β”‚
β”‚  β”‚   μ›Ή μΈν„°νμ΄μ¤ μ„λ²„         β”‚    β”‚
β”‚  β”‚   (Node.js + Express)       β”‚    β”‚
β”‚  β”‚   ν¬νΈ 3000                 β”‚    β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”    β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

### μ›Ή μΈν„°νμ΄μ¤ ν”λ΅μ°

```mermaid
graph TD
    A[μ‚¬μ©μ] --> B[μ›Ή λΈλΌμ°μ €]
    B --> C[μ›Ή μΈν„°νμ΄μ¤<br/>:3000]
    C --> D[Docker API]
    D --> E[Docker μ»¨ν…μ΄λ„]
    E --> F[noVNC<br/>:6080]
    E --> G[Playwright<br/>:37367]
    F --> B
    G --> H[μλ™ν™” μ¤ν¬λ¦½νΈ]
```

## π“‹ μ£Όμ” κΈ°λ¥

### μ›Ή μΈν„°νμ΄μ¤ (browser-interface/)

- **docker-manager.js**: Express μ„λ²„λ΅ Docker μ»¨ν…μ΄λ„ κ΄€λ¦¬
- **enhanced-index.html**: μ‹¤μ  APIμ™€ μ—°λ™λλ” μ›Ή μΈν„°νμ΄μ¤
- **index.html**: μ‹λ®¬λ μ΄μ… λ²„μ „μ μ›Ή μΈν„°νμ΄μ¤

### Docker μ»¨ν…μ΄λ„ (docker/magentic-ui-browser-docker/)

- **Xvfb**: ν—¤λ“λ¦¬μ¤ X11 λ””μ¤ν”λ μ΄ μ„λ²„ (:99)
- **OpenBox**: μµμ†ν•μ μλ„μ° λ§¤λ‹μ €
- **Chromium**: Playwrightλ΅ μ μ–΄λλ” μ›Ή λΈλΌμ°μ €
- **x11vnc**: VNC μ„λ²„ (ν¬νΈ 5900)
- **noVNC**: μ›Ή κΈ°λ° VNC ν΄λΌμ΄μ–ΈνΈ (ν¬νΈ 6080)
- **Playwright**: λΈλΌμ°μ € μλ™ν™” μ„λ²„ (ν¬νΈ 37367)

## π”§ μ„¤μ •

### ν™κ²½ λ³€μ

#### μ›Ή μΈν„°νμ΄μ¤
- `PORT`: μ›Ή μ„λ²„ ν¬νΈ (κΈ°λ³Έκ°’: 3000)
- `NODE_ENV`: μ‹¤ν–‰ ν™κ²½

#### Docker μ»¨ν…μ΄λ„
- `DISPLAY`: X11 λ””μ¤ν”λ μ΄ (:99)
- `PLAYWRIGHT_WS_PATH`: Playwright μ›Ήμ†μΌ“ κ²½λ΅ (default)

### ν¬νΈ λ§¤ν•‘

| μ„λΉ„μ¤ | μ»¨ν…μ΄λ„ ν¬νΈ | νΈμ¤νΈ ν¬νΈ | μ©λ„ |
|--------|---------------|-------------|------|
| noVNC | 6080 | 6080 | μ›Ή VNC ν΄λΌμ΄μ–ΈνΈ |
| Playwright | 37367 | 37367 | λΈλΌμ°μ € μλ™ν™” |
| μ›Ή μΈν„°νμ΄μ¤ | - | 3000 | κ΄€λ¦¬ μ›Ήνμ΄μ§€ |

## π”„ μ›ν¬ν”λ΅μ°

1. **μ΄λ―Έμ§€ λΉλ“**: `npm run build-image`
2. **μ„λ²„ μ‹μ‘**: `npm start`
3. **μ»¨ν…μ΄λ„ κ΄€λ¦¬**: μ›Ή μΈν„°νμ΄μ¤μ—μ„ μ‹μ‘/μ¤‘μ§€
4. **λΈλΌμ°μ € μ ‘μ†**: noVNCλ¥Ό ν†µν•΄ κ°€μƒ λΈλΌμ°μ € μ‚¬μ©
5. **μλ™ν™”**: Playwright APIλ΅ λΈλΌμ°μ € μ μ–΄

## π› οΈ κ°λ°

### λ””λ²„κΉ…

```bash
# μ»¨ν…μ΄λ„ λ΅κ·Έ ν™•μΈ
docker logs magentic-ui-browser

# μ›Ή μ„λ²„ κ°λ° λ¨λ“
npm run dev

# Docker μ΄λ―Έμ§€ μ¬λΉλ“
npm run build-image
```

### μ»¤μ¤ν„°λ§μ΄μ§•

- **λΈλΌμ°μ € μ„¤μ •**: `playwright-server.js` μμ •
- **μλ„μ° λ§¤λ‹μ €**: `openbox-rc.xml` μμ •
- **μ„λΉ„μ¤ κ΄€λ¦¬**: `supervisord.conf` μμ •
- **μ›Ή μΈν„°νμ΄μ¤**: `enhanced-index.html` μμ •

## π“ λ΅κ·Έ

### μ›Ή μΈν„°νμ΄μ¤ λ΅κ·Έ
- λΈλΌμ°μ € κ°λ°μ λ„κµ¬ μ½μ†”
- μ›Ή μΈν„°νμ΄μ¤ λ΅κ·Έ ν¨λ„

### Docker μ»¨ν…μ΄λ„ λ΅κ·Έ
```bash
docker logs -f magentic-ui-browser
```

### κ°λ³„ μ„λΉ„μ¤ λ΅κ·Έ
μ»¨ν…μ΄λ„ λ‚΄λ¶€μ—μ„ supervisorctlμ„ μ‚¬μ©ν•μ—¬ κ°λ³„ μ„λΉ„μ¤ λ΅κ·Έ ν™•μΈ κ°€λ¥

## π” λ¬Έμ  ν•΄κ²°

### μΌλ°μ μΈ λ¬Έμ 

1. **ν¬νΈ μ¶©λ**: λ‹¤λ¥Έ ν¬νΈ λ²νΈ μ‚¬μ©
2. **Docker λ°λ¬ λ―Έμ‹¤ν–‰**: Docker Desktop μ‹μ‘
3. **μ΄λ―Έμ§€ λΉλ“ μ‹¤ν¨**: κ¶ν• λ° λ„¤νΈμ›ν¬ ν™•μΈ
4. **VNC μ—°κ²° μ‹¤ν¨**: μ»¨ν…μ΄λ„ μ™„μ „ μ‹μ‘ λ€κΈ°

### λ΅κ·Έ ν™•μΈ μμ„

1. μ›Ή μΈν„°νμ΄μ¤ λ΅κ·Έ ν¨λ„
2. λΈλΌμ°μ € κ°λ°μ λ„κµ¬
3. Docker μ»¨ν…μ΄λ„ λ΅κ·Έ
4. ν„°λ―Έλ„ μ„λ²„ λ΅κ·Έ

## π€ ν”„λ΅λ•μ… λ°°ν¬

### μ„±λ¥ μµμ ν™”
- Docker μ΄λ―Έμ§€ λ©€ν‹°μ¤ν…μ΄μ§€ λΉλ“
- λ¶ν•„μ”ν• μ„λΉ„μ¤ μ κ±°
- λ©”λ¨λ¦¬ λ° CPU μ ν• μ„¤μ •

### λ³΄μ• κ³ λ ¤μ‚¬ν•­
- λ„¤νΈμ›ν¬ κ²©λ¦¬
- μ‚¬μ©μ κ¶ν• μ ν•
- HTTPS μ„¤μ •

### μ¤μΌ€μΌλ§
- Docker Swarm λλ” Kubernetes μ‚¬μ©
- λ΅λ“ λ°Έλ°μ„ μ„¤μ •
- μƒνƒ λ¨λ‹ν„°λ§
